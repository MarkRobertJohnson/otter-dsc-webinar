# Loop
foreach $ModuleName in @PowershellModules
{
    PSEnsure
    (
        Key: DSC Module: $ModuleName,
        Value: True,
        CollectScript: Test-PowerShellModuleInstalled,
        ConfigureScript: Install-PowerShellModule,
        UseExitCode: true,
        CollectScriptParams: @(
$ModuleName
),
        ConfigureScriptParams: @(
$ModuleName
)
    );
}
